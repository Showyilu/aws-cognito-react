(this["webpackJsonpaws-cognito-react"]=this["webpackJsonpaws-cognito-react"]||[]).push([[0],{138:function(e,t,n){},139:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(14),s=n.n(a),i=(n(138),n(139),n(25)),o=n(15),u=n(125),l=n(299),j=n(293),d=n(294),h=n(4),b=n.n(h),p=n(8),O=n(9),f=n(56),x="us-east-1_0ClQZ6Sj3",m="5pksm63ffd4uq09m69dmppc9k4";console.log("userpool id=".concat(x)),console.log("client id=".concat(m));var w={UserPoolId:"".concat(x),ClientId:"".concat(m)},v=new f.d(w),g=v.getCurrentUser();function y(e){var t={Username:e,Pool:v};return new f.b(t)}function I(){return k.apply(this,arguments)}function k(){return(k=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g||(g=v.getCurrentUser()),e.abrupt("return",new Promise((function(e,t){g.getSession((function(n,r){n?t(n):e(r)}))})).catch((function(e){throw e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,n){return S.apply(this,arguments)}function S(){return(S=Object(p.a)(b.a.mark((function e(t,n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,c){var a=[new f.c({Name:"email",Value:n})];v.signUp(t,r,a,[],(function(t,n){t?c(t):e(n)}))})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return V.apply(this,arguments)}function V(){return(V=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){y(t).confirmRegistration(n,!0,(function(t,n){t?r(t):e(n)}))})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return N.apply(this,arguments)}function N(){return(N=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var c={Username:t,Password:n},a=new f.a(c);(g=y(t)).authenticateUser(a,{onSuccess:function(t){e(t)},onFailure:function(e){r(e)}})})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return F.apply(this,arguments)}function F(){return(F=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){g.getUserAttributes((function(n,r){n?t(n):e(r)}))})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return A.apply(this,arguments)}function A(){return(A=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=[],c=new f.c(t);r.push(c),g.updateAttributes(r,(function(t,r){t?n(t):e(r)}))})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return q.apply(this,arguments)}function q(){return(q=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=y(t);r?r.forgotPassword({onSuccess:function(t){e(t)},onFailure:function(e){n(e)}}):n("could not find ".concat(t))})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,n){return R.apply(this,arguments)}function R(){return(R=Object(p.a)(b.a.mark((function e(t,n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,c){var a=y(t);a?a.confirmPassword(n,r,{onSuccess:function(){e("password updated")},onFailure:function(e){c(e)}}):c("could not find ".concat(t))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return J.apply(this,arguments)}function J(){return(J=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){g.changePassword(t,n,(function(t,n){t?r(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M,z=n(1);!function(e){e[e.Loading=0]="Loading",e[e.SignedIn=1]="SignedIn",e[e.SignedOut=2]="SignedOut"}(M||(M={}));var G={sessionInfo:{},authStatus:M.Loading},H=c.a.createContext(G),Q=function(e){var t=e.children,n=Object(r.useContext)(H).authStatus;return Object(z.jsx)(z.Fragment,{children:n===M.SignedIn?t:null})},Z=function(e){var t=e.children,n=Object(r.useContext)(H).authStatus;return Object(z.jsx)(z.Fragment,{children:n===M.SignedOut?t:null})},_=function(e){var t=e.children,n=Object(r.useState)(M.Loading),c=Object(O.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)({}),o=Object(O.a)(i,2),u=o[0],l=o[1],j=Object(r.useState)([]),d=Object(O.a)(j,2),h=d[0],f=d[1];if(Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return t=e.sent,l({accessToken:t.accessToken.jwtToken,refreshToken:t.refreshToken.token}),window.localStorage.setItem("accessToken","".concat(t.accessToken.jwtToken)),window.localStorage.setItem("refreshToken","".concat(t.refreshToken.token)),e.next=9,V({Name:"website",Value:"https://github.com/dbroadhurst/aws-cognito-react"});case 9:return e.next=11,k();case 11:n=e.sent,f(n),s(M.SignedIn),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),s(M.SignedOut);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s,a]),a===M.Loading)return null;function x(){return(x=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t,n);case 3:s(M.SignedIn),e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),s(M.SignedOut),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function m(){return(m=Object(p.a)(b.a.mark((function e(t,n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t,n,r);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function w(){return(w=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t,n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function v(){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I();case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(){return S.apply(this,arguments)}function S(){return(S=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function V(e){return N.apply(this,arguments)}function N(){return(N=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function F(){return(F=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function A(){return(A=Object(p.a)(b.a.mark((function e(t,n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(t,n,r);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function q(){return(q=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t,n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var R={authStatus:a,sessionInfo:u,attrInfo:h,signUpWithEmail:function(e,t,n){return m.apply(this,arguments)},signInWithEmail:function(e,t){return x.apply(this,arguments)},signOut:function(){g&&g.signOut(),s(M.SignedOut)},verifyCode:function(e,t){return w.apply(this,arguments)},getSession:v,sendCode:function(e){return F.apply(this,arguments)},forgotPassword:function(e,t,n){return A.apply(this,arguments)},changePassword:function(e,t){return q.apply(this,arguments)},getAttributes:k,setAttribute:V};return Object(z.jsx)(H.Provider,{value:R,children:t})},D=n(290),K=n(296),X=n(291),Y=n(297),$=n(261),ee=n(289),te=n(30),ne=function(e){var t=Object(r.useState)(e),n=Object(O.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!0),i=Object(O.a)(s,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){var e=te.a().shape({password:te.b().min(8).required()});if(0!==c.length){var t=e.isValidSync({password:c});u(t)}else u(!0)}),[c]),{password:c,setPassword:a,passwordIsValid:o}},re=function(e){var t=Object(r.useState)(e),n=Object(O.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!0),i=Object(O.a)(s,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){var e=te.a().shape({username:te.b().min(8).required()});if(0!==c.length){var t=e.isValidSync({username:c});u(t)}else u(!0)}),[c]),{username:c,setUsername:a,usernameIsValid:o}},ce=function(e){var t=Object(r.useState)(e),n=Object(O.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!0),i=Object(O.a)(s,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){var e=te.a().shape({code:te.b().min(6).required()});if(0!==c.length){var t=e.isValidSync({code:c});u(t)}else u(!0)}),[c]),{code:c,setCode:a,codeIsValid:o}},ae=n(295),se=function(e){var t=e.emailIsValid,n=e.setEmail;return Object(z.jsx)(ae.a,{fullWidth:!0,variant:"outlined",label:t?"Email":"Invalid Email",error:!t,onChange:function(e){n(e.target.value)}})},ie=function(e){var t=e.label,n=e.passwordIsValid,r=e.setPassword;return Object(z.jsx)(ae.a,{fullWidth:!0,variant:"outlined",label:n?t:"Minimum 8 characters",error:!n,onChange:function(e){r(e.target.value)}})},oe=function(e){var t=e.usernameIsValid,n=e.setUsername;return Object(z.jsx)(ae.a,{fullWidth:!0,variant:"outlined",label:t?"Username":"Minimum 8 characters",error:!t,onChange:function(e){n(e.target.value)}})},ue=function(e){var t=e.codeIsValid,n=e.setCode;return Object(z.jsx)(ae.a,{fullWidth:!0,variant:"outlined",label:t?"Code":"Minimum 6 characters",error:!t,onChange:function(e){n(e.target.value)}})},le=Object(D.a)({root:{height:"100vh"},hover:{"&:hover":{cursor:"pointer"}}}),je=function(){var e=le(),t=re(""),n=t.username,c=t.setUsername,a=t.usernameIsValid,s=ne(""),i=s.password,u=s.setPassword,l=s.passwordIsValid,j=Object(r.useState)(""),d=Object(O.a)(j,2),h=d[0],f=d[1],x=!a||0===n.length||!l||0===i.length,m=Object(o.f)(),w=Object(r.useContext)(H),v=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.signInWithEmail(n,i);case 3:m.push("home"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"UserNotConfirmedException"===e.t0.code?m.push("verify"):f(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.push("requestcode");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(z.jsx)(X.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(z.jsx)(X.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(z.jsx)(ee.a,{style:{width:"100%",padding:32},children:Object(z.jsxs)(X.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(z.jsx)(K.a,{m:2,children:Object(z.jsx)($.a,{variant:"h3",children:"Sign in"})}),Object(z.jsxs)(K.a,{width:"80%",m:1,children:[Object(z.jsx)(oe,{usernameIsValid:a,setUsername:c})," "]}),Object(z.jsxs)(K.a,{width:"80%",m:1,children:[Object(z.jsx)(ie,{label:"Password",passwordIsValid:l,setPassword:u}),Object(z.jsx)(X.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:Object(z.jsx)(K.a,{onClick:g,mt:2,children:Object(z.jsx)($.a,{className:e.hover,variant:"body2",children:"Forgot Password?"})})})]}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsx)($.a,{color:"error",variant:"body2",children:h})}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsxs)(X.a,{container:!0,direction:"row",justify:"center",children:[Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{color:"secondary",variant:"contained",onClick:function(){return m.goBack()},children:"Cancel"})}),Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{disabled:x,color:"primary",variant:"contained",onClick:v,children:"Sign In"})})]})}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsx)(K.a,{onClick:function(){return m.push("signup")},children:Object(z.jsx)($.a,{className:e.hover,variant:"body1",children:"Register a new account"})})})]})})})})},de=Object(D.a)({root:{height:"100vh"}}),he=function(){var e=de(),t=function(e){var t=Object(r.useState)(e),n=Object(O.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!0),i=Object(O.a)(s,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){var e=te.a().shape({email:te.b().email().required()});if(0!==c.length){var t=e.isValidSync({email:c});u(t)}else u(!0)}),[c]),{email:c,setEmail:a,emailIsValid:o}}(""),n=t.email,c=t.setEmail,a=t.emailIsValid,s=ne(""),i=s.password,u=s.setPassword,l=s.passwordIsValid,j=re(""),d=j.username,h=j.setUsername,f=j.usernameIsValid,x=Object(r.useState)(""),m=Object(O.a)(x,2),w=m[0],v=m[1],g=Object(r.useState)(!1),y=Object(O.a)(g,2),I=y[0],k=y[1],C=ne(""),S=C.password,P=C.setPassword,V=C.passwordIsValid,U=!a||0===n.length||!f||0===d.length||!l||0===i.length||!V||0===S.length,N=Object(o.f)(),E=Object(r.useContext)(H),F=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.signUpWithEmail(d,n,i);case 3:k(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),v(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),W=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(K.a,{width:"80%",m:1,children:Object(z.jsx)(se,{emailIsValid:a,setEmail:c})}),Object(z.jsx)(K.a,{width:"80%",m:1,children:Object(z.jsx)(oe,{usernameIsValid:f,setUsername:h})}),Object(z.jsx)(K.a,{width:"80%",m:1,children:Object(z.jsx)(ie,{label:"Password",passwordIsValid:l,setPassword:u})}),Object(z.jsx)(K.a,{width:"80%",m:1,children:Object(z.jsx)(ie,{label:"Confirm Password",passwordIsValid:V,setPassword:P})}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsx)($.a,{color:"error",variant:"body2",children:w})}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsxs)(X.a,{container:!0,direction:"row",justify:"center",children:[Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{onClick:function(){return N.goBack()},color:"secondary",variant:"contained",children:"Cancel"})}),Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{disabled:U,color:"primary",variant:"contained",onClick:F,children:"Sign Up"})})]})})]}),A=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)($.a,{variant:"h5",children:"Created ".concat(d," account")}),Object(z.jsx)($.a,{variant:"h6",children:"Verfiy Code sent to ".concat(n)}),Object(z.jsx)(K.a,{m:4,children:Object(z.jsx)(Y.a,{onClick:function(){return N.push("/verify")},color:"primary",variant:"contained",children:"Send Code"})})]});return Object(z.jsx)(X.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(z.jsx)(X.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(z.jsx)(ee.a,{style:{width:"100%",padding:16},children:Object(z.jsxs)(X.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(z.jsx)(K.a,{m:3,children:Object(z.jsx)(X.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(z.jsx)($.a,{variant:"h3",children:"Sign Up"})})}),I?A:W]})})})})},be=Object(D.a)({root:{height:"100vh"},hover:{"&:hover":{cursor:"pointer"}}}),pe=function(){var e=be(),t=re(""),n=t.username,c=t.setUsername,a=t.usernameIsValid,s=ce(""),i=s.code,u=s.setCode,l=s.codeIsValid,j=Object(r.useState)(""),d=Object(O.a)(j,2),h=d[0],f=d[1],x=!a||0===n.length||!l||0===i.length,m=Object(o.f)(),w=Object(r.useContext)(H),v=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.verifyCode(n,i);case 3:m.push("signin"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),f("Invalid Code");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.push("/resetpassword");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(z.jsx)(X.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(z.jsx)(X.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(z.jsx)(ee.a,{style:{width:"100%",padding:32},children:Object(z.jsxs)(X.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(z.jsx)(K.a,{m:2,children:Object(z.jsx)($.a,{variant:"h3",children:"Send Code"})}),Object(z.jsxs)(K.a,{width:"80%",m:1,children:[Object(z.jsx)(oe,{usernameIsValid:a,setUsername:c})," "]}),Object(z.jsxs)(K.a,{width:"80%",m:1,children:[Object(z.jsx)(ue,{codeIsValid:l,setCode:u}),Object(z.jsx)(X.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:Object(z.jsxs)(K.a,{onClick:g,mt:2,children:[Object(z.jsx)($.a,{className:e.hover,variant:"body2",children:"Resend Code"}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsx)($.a,{color:"error",variant:"body2",children:h})})]})})]}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsxs)(X.a,{container:!0,direction:"row",justify:"center",children:[Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{color:"secondary",variant:"contained",onClick:function(){return m.goBack()},children:"Cancel"})}),Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{disabled:x,color:"primary",variant:"contained",onClick:v,children:"Send"})})]})})]})})})})},Oe=Object(D.a)({root:{height:"100vh"},hover:{"&:hover":{cursor:"pointer"}},text:{textAlign:"center"}});function fe(){var e=Oe(),t=re(""),n=t.username,c=t.setUsername,a=t.usernameIsValid,s=Object(r.useState)(""),i=Object(O.a)(s,2),u=i[0],l=i[1],j=Object(r.useState)(!1),d=Object(O.a)(j,2),h=d[0],f=d[1],x=!a||0===n.length,m=Object(o.f)(),w=Object(r.useContext)(H),v=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.sendCode(n);case 3:f(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l("Unknown user");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),g=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(K.a,{mt:1,children:Object(z.jsx)($.a,{className:e.text,variant:"h5",children:"Reset Code Sent to ".concat(n)})}),Object(z.jsx)(K.a,{mt:4,children:Object(z.jsx)(Y.a,{onClick:function(){return m.push("forgotpassword")},color:"primary",variant:"contained",children:"Reset Password"})})]}),y=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(K.a,{width:"80%",m:1,children:Object(z.jsx)(oe,{usernameIsValid:a,setUsername:c})}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsx)($.a,{color:"error",variant:"body2",children:u})}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsxs)(X.a,{container:!0,direction:"row",justify:"center",children:[Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{color:"secondary",variant:"contained",onClick:function(){return m.goBack()},children:"Cancel"})}),Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{disabled:x,color:"primary",variant:"contained",onClick:v,children:"Send Code"})})]})})]});return Object(z.jsx)(X.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(z.jsx)(X.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(z.jsx)(ee.a,{style:{width:"100%",padding:32},children:Object(z.jsxs)(X.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(z.jsx)(K.a,{m:2,children:Object(z.jsx)($.a,{variant:"h3",children:"Send Reset Code"})}),h?g:y]})})})})}var xe=Object(D.a)({root:{height:"100vh"}});function me(){var e=xe(),t=ce(""),n=t.code,c=t.setCode,a=t.codeIsValid,s=ne(""),i=s.password,u=s.setPassword,l=s.passwordIsValid,j=re(""),d=j.username,h=j.setUsername,f=j.usernameIsValid,x=Object(r.useState)(""),m=Object(O.a)(x,2),w=m[0],v=m[1],g=Object(r.useState)(!1),y=Object(O.a)(g,2),I=y[0],k=y[1],C=ne(""),S=C.password,P=C.setPassword,V=C.passwordIsValid,U=!a||0===n.length||!f||0===d.length||!l||0===i.length||!V||0===S.length,N=Object(o.f)(),E=Object(r.useContext)(H),F=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.forgotPassword(d,n,i);case 3:k(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),v(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),W=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(K.a,{width:"80%",m:1,children:Object(z.jsx)(ue,{codeIsValid:a,setCode:c})}),Object(z.jsx)(K.a,{width:"80%",m:1,children:Object(z.jsx)(oe,{usernameIsValid:f,setUsername:h})}),Object(z.jsx)(K.a,{width:"80%",m:1,children:Object(z.jsx)(ie,{label:"Password",passwordIsValid:l,setPassword:u})}),Object(z.jsx)(K.a,{width:"80%",m:1,children:Object(z.jsx)(ie,{label:"Confirm Password",passwordIsValid:V,setPassword:P})}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsx)($.a,{color:"error",variant:"body2",children:w})}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsxs)(X.a,{container:!0,direction:"row",justify:"center",children:[Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{onClick:function(){return N.goBack()},color:"secondary",variant:"contained",children:"Cancel"})}),Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{disabled:U,color:"primary",variant:"contained",onClick:F,children:"Change Password"})})]})})]}),A=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)($.a,{variant:"h5",children:"Password Reset"}),Object(z.jsx)(K.a,{m:4,children:Object(z.jsx)(Y.a,{onClick:function(){return N.push("/signin")},color:"primary",variant:"contained",children:"Sign In"})})]});return Object(z.jsx)(X.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(z.jsx)(X.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(z.jsx)(ee.a,{style:{width:"100%",padding:16},children:Object(z.jsxs)(X.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(z.jsx)(K.a,{m:3,children:Object(z.jsx)(X.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(z.jsx)($.a,{variant:"h3",children:"Forgot Password"})})}),I?A:W]})})})})}var we=Object(D.a)({root:{height:"100vh"}});function ve(){var e=we(),t=Object(r.useState)(""),n=Object(O.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),i=Object(O.a)(s,2),u=i[0],l=i[1],j=ne(""),d=j.password,h=j.setPassword,f=j.passwordIsValid,x=ne(""),m=x.password,w=x.setPassword,v=x.passwordIsValid,g=!f||0===d.length||!v||0===m.length,y=Object(o.f)(),I=Object(r.useContext)(H),k=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.changePassword(d,m);case 3:l(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.signOut();case 3:y.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),S=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(K.a,{width:"80%",m:1,children:Object(z.jsx)(ie,{label:"Old Password",passwordIsValid:f,setPassword:h})}),Object(z.jsx)(K.a,{width:"80%",m:1,children:Object(z.jsx)(ie,{label:"Password",passwordIsValid:v,setPassword:w})}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsx)($.a,{color:"error",variant:"body2",children:c})}),Object(z.jsx)(K.a,{mt:2,children:Object(z.jsxs)(X.a,{container:!0,direction:"row",justify:"center",children:[Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{onClick:function(){return y.goBack()},color:"secondary",variant:"contained",children:"Cancel"})}),Object(z.jsx)(K.a,{m:1,children:Object(z.jsx)(Y.a,{disabled:g,color:"primary",variant:"contained",onClick:k,children:"Change Password"})})]})})]}),P=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)($.a,{variant:"h5",children:"Password Changed"}),Object(z.jsx)(K.a,{m:4,children:Object(z.jsx)(Y.a,{onClick:C,color:"primary",variant:"contained",children:"Sign In"})})]});return Object(z.jsx)(X.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(z.jsx)(X.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(z.jsx)(ee.a,{style:{width:"100%",padding:16},children:Object(z.jsxs)(X.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(z.jsx)(K.a,{m:3,children:Object(z.jsx)(X.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(z.jsx)($.a,{variant:"h3",children:"Change Password"})})}),u?P:S]})})})})}var ge=n(292),ye=n(78),Ie=n.n(ye),ke=n.p+"static/media/logo.012b5501.png",Ce=Object(D.a)((function(e){return{root:{height:"100vh"},title:{textAlign:"center"}}})),Se=function(){var e=Ce(),t=Object(o.f)();return Object(z.jsx)(X.a,{container:!0,children:Object(z.jsxs)(X.a,{className:e.root,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(z.jsx)(K.a,{m:2,children:Object(z.jsx)("img",{src:ke,width:224,height:224,alt:"logo"})}),Object(z.jsx)(K.a,{m:2,children:Object(z.jsx)(ge.a,{underline:"none",color:"inherit",href:"https://github.com/dbroadhurst/aws-cognito-react",children:Object(z.jsxs)(X.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(z.jsx)(K.a,{mr:3,children:Object(z.jsx)(Ie.a,{fontSize:"large"})}),Object(z.jsx)($.a,{className:e.title,variant:"h3",children:"AWS Cognito Starter"})]})})}),Object(z.jsx)(K.a,{m:2,children:Object(z.jsx)(Y.a,{onClick:function(){t.push("/signin")},variant:"contained",color:"primary",children:"SIGN IN"})})]})})},Pe=Object(D.a)((function(e){return{root:{},title:{textAlign:"center"},session:{width:"80vw",overflow:"auto",overflowWrap:"break-word",fontSize:"16px"},hero:{width:"100%",background:"rgb(220,220,220)"}}}));function Ve(){var e=Pe(),t=Object(o.f)(),n=Object(r.useContext)(H);return Object(z.jsx)(X.a,{container:!0,children:Object(z.jsxs)(X.a,{className:e.root,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(z.jsx)(K.a,{className:e.hero,p:4,children:Object(z.jsxs)(X.a,{className:e.root,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(z.jsx)(K.a,{m:2,children:Object(z.jsx)("img",{src:ke,width:224,height:224,alt:"logo"})}),Object(z.jsx)(K.a,{m:2,children:Object(z.jsx)(ge.a,{underline:"none",color:"inherit",href:"https://github.com/dbroadhurst/aws-cognito-react",children:Object(z.jsxs)(X.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(z.jsx)(K.a,{mr:3,children:Object(z.jsx)(Ie.a,{fontSize:"large"})}),Object(z.jsx)($.a,{className:e.title,variant:"h3",children:"AWS Cognito Starter Home"})]})})}),Object(z.jsx)(K.a,{m:2,children:Object(z.jsx)(Y.a,{onClick:function(){n.signOut(),t.push("/")},variant:"contained",color:"primary",children:"Sign Out"})}),Object(z.jsx)(K.a,{m:2,children:Object(z.jsx)(Y.a,{onClick:function(){t.push("changepassword")},variant:"contained",color:"primary",children:"Change Password"})})]})}),Object(z.jsxs)(K.a,{m:2,children:[Object(z.jsx)($.a,{variant:"h5",children:"Session Info"}),Object(z.jsx)("pre",{className:e.session,children:JSON.stringify(n.sessionInfo,null,2)})]}),Object(z.jsxs)(K.a,{m:2,children:[Object(z.jsx)($.a,{variant:"h5",children:"User Attributes"}),Object(z.jsx)("pre",{className:e.session,children:JSON.stringify(n.attrInfo,null,2)})]})]})})}var Ue=Object(u.a)({palette:{type:"light"}});Ue=Object(l.a)(Ue);var Ne=function(){return Object(z.jsx)(i.a,{children:Object(z.jsxs)(o.c,{children:[Object(z.jsx)(o.a,{path:"/signin",component:je}),Object(z.jsx)(o.a,{path:"/signup",component:he}),Object(z.jsx)(o.a,{path:"/verify",component:pe}),Object(z.jsx)(o.a,{path:"/requestcode",component:fe}),Object(z.jsx)(o.a,{path:"/forgotpassword",component:me}),Object(z.jsx)(o.a,{path:"/",component:Se})]})})},Ee=function(){return Object(z.jsx)(i.a,{children:Object(z.jsxs)(o.c,{children:[Object(z.jsx)(o.a,{path:"/changepassword",component:ve}),Object(z.jsx)(o.a,{path:"/",component:Ve})]})})},Fe=function(){return Object(z.jsxs)(j.a,{theme:Ue,children:[Object(z.jsx)(d.a,{}),Object(z.jsxs)(_,{children:[Object(z.jsx)(Q,{children:Object(z.jsx)(Ee,{})}),Object(z.jsx)(Z,{children:Object(z.jsx)(Ne,{})})]})]})};s.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(Fe,{})}),document.getElementById("root"))}},[[257,1,2]]]);
//# sourceMappingURL=main.107ad0e9.chunk.js.map